suite: Test plumbing components
templates:
  - templates/plumbing/gitops-namespace.yaml
release:
  name: release-test
tests:
  - it: should create gitops namespace
    set:
      global:
        pattern: test-pattern
      clusterGroup:
        name: hub
    asserts:
      - hasDocuments:
          count: 1
      - isKind:
          of: Namespace
      - equal:
          path: metadata.name
          value: test-pattern-hub